# Configuração para testes integrados com Testcontainers
# O DataSource é configurado automaticamente pelo @ServiceConnection do Testcontainers

spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# Desabilitar Flyway para testes (DDL gerenciado pelo Hibernate)
spring.flyway.enabled=false

# Desabilitar Redis para testes
spring.data.redis.repositories.enabled=false
rulex.engine.velocity.redis.enabled=false

# Desabilitar Neo4j para testes
spring.neo4j.uri=bolt://localhost:7687
spring.data.neo4j.repositories.enabled=false

# Excluir auto-configurações problemáticas
spring.autoconfigure.exclude=\
  org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,\
  org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration,\
  org.springframework.boot.autoconfigure.neo4j.Neo4jAutoConfiguration

# Logging
logging.level.com.rulex=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.testcontainers=INFO
